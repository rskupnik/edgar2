<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Edgar Dashboard</title>
    <link th:href="@{main.css}" rel="stylesheet" />
    <script src="https://unpkg.com/vue"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
    <div id="app">
        <div id="container">
            <!--div class="tile 0_0"></div>
            <div class="tile 1_0"></div>
            <div class="tile 2_0"></div>
            <div class="tile 3_0"></div>
            <div class="tile 4_0"></div>
            <div class="tile 5_0"></div>
            <div class="tile 6_0"></div>
            <div class="tile 7_0"></div>
            <div class="tile 8_0"></div>
            <div class="tile 9_0"></div>

            <div class="tile 0_1"></div>
            <div class="tile 1_1"></div>
            <div class="tile 2_1"></div>
            <div class="tile 3_1"></div>
            <div class="tile 4_1"></div>
            <div class="tile 5_1"></div>
            <div class="tile 6_1"></div>
            <div class="tile 7_1"></div>
            <div class="tile 8_1"></div>
            <div class="tile 9_1"></div>

            <div class="tile 0_2"></div>
            <div class="tile 1_2"></div>
            <div class="tile 2_2"></div>
            <div class="tile 3_2"></div>
            <div class="tile 4_2"></div>
            <div class="tile 5_2"></div>
            <div class="tile 6_2"></div>
            <div class="tile 7_2"></div>
            <div class="tile 8_2"></div>
            <div class="tile 9_2"></div>

            <div class="tile 0_3"></div>
            <div class="tile 1_3"></div>
            <div class="tile 2_3"></div>
            <div class="tile 3_3"></div>
            <div class="tile 4_3"></div>
            <div class="tile 5_3"></div>
            <div class="tile 6_3"></div>
            <div class="tile 7_3"></div>
            <div class="tile 8_3"></div>
            <div class="tile 9_3"></div>

            <div class="tile 0_4"></div>
            <div class="tile 1_4"></div>
            <div class="tile 2_4"></div>
            <div class="tile 3_4"></div>
            <div class="tile 4_4"></div>
            <div class="tile 5_4"></div>
            <div class="tile 6_4"></div>
            <div class="tile 7_4"></div>
            <div class="tile 8_4"></div>
            <div class="tile 9_4"></div>

            <div class="tile 0_5"></div>
            <div class="tile 1_5"></div>
            <div class="tile 2_5"></div>
            <div class="tile 3_5"></div>
            <div class="tile 4_5"></div>
            <div class="tile 5_5"></div>
            <div class="tile 6_5"></div>
            <div class="tile 7_5"></div>
            <div class="tile 8_5"></div>
            <div class="tile 9_5"></div-->
        </div>
    </div>

    <script type="text/javascript" th:src="@{js/tiles.js}"></script>
    <script>
        var app = new Vue({
            el: '#app',
            data() {
                return {
                    devices: null,
                    dashboard: null,
                    testDevices: [
                        {
                            "name": "Test device #1",
                            "endpoints": [
                                {
                                    "name": "Basic speed",
                                    "type": "basic"
                                }
                            ]
                        }
                    ],
                    testLayout: [
                        {
                            "x": 2,
                            "y": 2,
                            "type": "horizontal"
                        },
                        {
                            "x": 4,
                            "y": 3,
                            "type": "quad"
                        },
                        {
                            "x": 7,
                            "y": 2,
                            "type": "vertical"
                        }
                    ]
                }
            },
            mounted() {
                var filledTiles = fillTiles(this.testLayout, 10, 6);
                console.log(filledTiles);
                placeTiles(filledTiles);
                randomizeColors();
                // axios.get('http://' + window.location.host + '/devices')
                //     .then(response => (this.devices = response.data))
                // axios.get('http://' + window.location.host + '/dashboards/' + window.location.pathname.split('/')[1])
                //     .then(response => (this.dashboard = response.data))
            },
            methods: {
                sendCommand: function (device, endpoint) {
                    console.log(endpoint)
                    axios.post("http://" + window.location.host + "/devices/" + device.id + endpoint.path)
                }
            }
        });
    </script>

</body>
</html>